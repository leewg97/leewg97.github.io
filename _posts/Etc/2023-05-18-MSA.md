# Microservice Architecture
하나의 큰 어플리케이션을 여러개의 작은 어플리케이션으로 쪼개어 변경과 조합이 능토록 만든 아키텍처

## MSA 등장배경
MSA 이전 우리가 어떠한 방식으로 개발을 진행해왔는지에 대해서 먼저 알아보자.

## Monolithic Architecture
Monolithic Architecture란, 소프트웨어의 모든 구성요소가 한 프로젝트에 통합되어있는 형태이다. 
아직까지 많은 프로젝트가 이러한 형태이며, 소규모 프로젝트일수록 이러한 형태의 개발 방식이 합리적이며 유지보수가 용이하다.
하지만, 일정 수준 이상 규모의 서비스, 또는 대규모 개발자가 투입되는 프로젝트와 같은 경우에는 Monolithic Architecture의 한계가 뚜렷해진다.

*  서비스 / 프로젝트가 커질수록 전체 시스템 구조 파악이 어렵다.
*  빌드 및 테스트 시간, 그리고 배포 시간이 늘어난다.
*  서비스의 부분 확장 조차 어려워진다.
*  부분 장애가 전체 서비스 장애를 야기할 수 있다.

## MSA란
* 각각의 서비스는 독립적인 배포가 가능해야 한다.
* 각각의 서비스는 다른 서비스에 대한 의존성이 최소화 되어야 한다.
* 각각의 서비스는 개별 프로세스로 구동 되며, REST와 같은 가벼운 방식으로 통신되어야 한다.
* 각각의 서비스는 크기가 작을 뿐, 서비스 자체는 하나의 Monolithic Architecture와 유사한 구조를 가진다.

## MSA의 장단점
### MSA의 장점
* 서비스가 커지면서 발생하는 Monolithic architecture의 문제점들을 어느정도 보완해줄 수 있다.
* 배포
  * 서비스 별 개별 배포가 가능하다.
  * 요구사항을 신속하게 반영할 수 있다.
* 확장성
  * 특정 서비스에 대한 확장성이 용이하다.
  * 클라우드 사용에 적합하다.
* 장애
  * 장애가 전체 서비스로 확장될 가능성이 낮다.
  * 부분 장애의 격리가 수월하다.
* 신기술 적용에 유연하고 polyglot하게 개발하고 운영하는데 유리하다.

### MSA의 단덤
* Monolithic Architecture는 단순한데 MSA는 복잡하다. 따라서, 서비스가 점점 확대됨에 따라 복잡도가 늘어날 수 있다.
* 서비스간 호출시에 API를 사용하기 때문에, 통신 비용이나, Latency가 그만큼 늘어난다.
* 서비스가 분리되어 있기 때문에 테스트와 트랜잭션의 복잡도가 증가하고, 많은 자원을 필요로 한다.
* 데이터가 여러 서비스에 걸쳐 분산되기 때문에 한번에 조회하기 어렵고, 데이터의 장합성 또한 관리하기 어렵다.